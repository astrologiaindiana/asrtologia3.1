<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Astrologia Indiana - Painel Administrativo</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="assets/icon-192.png" type="image/png">
</head>
<body>
    <div class="app-container">
        <!-- Tela de Login -->
        <div id="login-screen" class="login-screen">
            <div class="login-container">
                <div class="login-logo">
                    <img src="assets/logo.png" alt="Astrologia Indiana">
                </div>
                <h1>Painel Administrativo</h1>
                <form id="login-form" class="login-form">
                    <div class="form-group">
                        <label for="email">E-mail</label>
                        <input type="email" id="email" required>
                    </div>
                    <div class="form-group">
                        <label for="password">Senha</label>
                        <input type="password" id="password" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Entrar</button>
                </form>
                <div id="login-error" class="login-error"></div>
            </div>
        </div>

        <!-- Painel Principal (visível após login) -->
        <div id="main-panel" class="main-panel hidden">
            <!-- Cabeçalho -->
            <header class="header">
                <div class="header-logo">
                    <img src="assets/logo.png" alt="Astrologia Indiana">
                </div>
                <div class="header-title">
                    <h1>Painel Administrativo</h1>
                </div>
                <div class="header-user">
                    <div class="user-info">
                        <span id="user-name">Usuário</span>
                        <img src="assets/user-avatar.png" alt="Avatar" class="user-avatar">
                    </div>
                    <button id="logout-btn" class="btn btn-outline btn-sm">
                        <i class="fas fa-sign-out-alt"></i> Sair
                    </button>
                </div>
            </header>

            <!-- Conteúdo Principal -->
            <div class="main-content">
                <!-- Menu Lateral -->
                <nav class="sidebar">
                    <ul class="menu">
                        <li class="menu-item active" data-section="pedidos">
                            <i class="fas fa-list"></i>
                            <span>Painel de Pedidos</span>
                        </li>
                        <li class="menu-item" data-section="nova-venda">
                            <i class="fas fa-plus-circle"></i>
                            <span>Nova Venda</span>
                        </li>
                        <li class="menu-item" data-section="clientes">
                            <i class="fas fa-users"></i>
                            <span>Clientes</span>
                        </li>
                        <li class="menu-item" data-section="videochamadas">
                            <i class="fas fa-video"></i>
                            <span>Videochamadas</span>
                        </li>
                        <li class="menu-item" data-section="financeiro">
                            <i class="fas fa-chart-line"></i>
                            <span>Resumo Financeiro</span>
                        </li>
                        <li class="menu-item" data-section="configuracoes">
                            <i class="fas fa-cog"></i>
                            <span>Configurações</span>
                        </li>
                    </ul>
                </nav>

                <!-- Área de Conteúdo -->
                <main class="content">
                    <!-- Seção: Painel de Pedidos -->
                    <section id="pedidos-section" class="content-section active">
                        <div class="section-header">
                            <h2>Painel de Pedidos</h2>
                            <div class="section-actions">
                                <div class="search-container">
                                    <input type="text" id="pedidos-search" placeholder="Buscar pedidos...">
                                    <i class="fas fa-search"></i>
                                </div>
                                <button id="export-pedidos" class="btn btn-outline">
                                    <i class="fas fa-file-export"></i> Exportar CSV
                                </button>
                            </div>
                        </div>

                        <div class="filters">
                            <div class="filter-group">
                                <label>Status:</label>
                                <select id="filter-status">
                                    <option value="">Todos</option>
                                    <option value="Em andamento">Em andamento</option>
                                    <option value="Concluído">Concluído</option>
                                    <option value="Aguardando">Aguardando</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label>Responsável:</label>
                                <select id="filter-responsavel">
                                    <option value="">Todos</option>
                                    <option value="Conrado">Conrado</option>
                                    <option value="Kavi">Kavi</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label>Tipo de Mapa:</label>
                                <select id="filter-tipo-mapa">
                                    <option value="">Todos</option>
                                    <!-- Será preenchido via JavaScript -->
                                </select>
                            </div>
                        </div>

                        <div class="table-container">
                            <table id="pedidos-table" class="data-table">
                                <thead>
                                    <tr>
                                        <th>Nome do Cliente</th>
                                        <th>WhatsApp</th>
                                        <th>Tipo de Mapa</th>
                                        <th>Responsável</th>
                                        <th>Status</th>
                                        <th>Videochamada</th>
                                        <th>Ações</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Será preenchido via JavaScript -->
                                </tbody>
                            </table>
                        </div>

                        <div class="pagination">
                            <button id="prev-page" class="btn btn-outline btn-sm">
                                <i class="fas fa-chevron-left"></i> Anterior
                            </button>
                            <span id="page-info">Página 1 de 1</span>
                            <button id="next-page" class="btn btn-outline btn-sm">
                                Próxima <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                    </section>

                    <!-- Seção: Nova Venda -->
                    <section id="nova-venda-section" class="content-section">
                        <div class="section-header">
                            <h2>Nova Venda</h2>
                        </div>

                        <form id="nova-venda-form" class="form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="cliente-nome">Nome do Cliente</label>
                                    <input type="text" id="cliente-nome" required>
                                </div>
                                <div class="form-group">
                                    <label for="cliente-whatsapp">WhatsApp</label>
                                    <input type="tel" id="cliente-whatsapp" required>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="cliente-email">E-mail</label>
                                    <input type="email" id="cliente-email">
                                </div>
                                <div class="form-group">
                                    <label for="tipo-mapa">Tipo de Mapa</label>
                                    <select id="tipo-mapa" required>
                                        <!-- Será preenchido via JavaScript -->
                                    </select>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="data-nascimento">Data de Nascimento</label>
                                    <input type="date" id="data-nascimento" required>
                                </div>
                                <div class="form-group">
                                    <label for="hora-nascimento">Hora de Nascimento</label>
                                    <input type="time" id="hora-nascimento" required>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="local-nascimento">Local de Nascimento</label>
                                    <input type="text" id="local-nascimento" required>
                                </div>
                                <div class="form-group">
                                    <label for="responsavel">Responsável</label>
                                    <select id="responsavel" required>
                                        <option value="Conrado">Conrado</option>
                                        <option value="Kavi">Kavi</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="status">Status</label>
                                    <select id="status" required>
                                        <option value="Em andamento">Em andamento</option>
                                        <option value="Concluído">Concluído</option>
                                        <option value="Aguardando">Aguardando</option>
                                    </select>
                                </div>
                                <div class="form-group checkbox-group">
                                    <input type="checkbox" id="requer-videochamada">
                                    <label for="requer-videochamada">Requer Videochamada</label>
                                </div>
                            </div>

                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary">Salvar Venda</button>
                                <button type="reset" class="btn btn-outline">Limpar</button>
                            </div>
                        </form>
                    </section>

                    <!-- Seção: Clientes -->
                    <section id="clientes-section" class="content-section">
                        <div class="section-header">
                            <h2>Clientes</h2>
                            <div class="section-actions">
                                <div class="search-container">
                                    <input type="text" id="clientes-search" placeholder="Buscar clientes...">
                                    <i class="fas fa-search"></i>
                                </div>
                                <button id="add-cliente" class="btn btn-primary">
                                    <i class="fas fa-plus"></i> Novo Cliente
                                </button>
                            </div>
                        </div>

                        <div class="table-container">
                            <table id="clientes-table" class="data-table">
                                <thead>
                                    <tr>
                                        <th>Nome</th>
                                        <th>WhatsApp</th>
                                        <th>E-mail</th>
                                        <th>Pedidos</th>
                                        <th>Ações</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Será preenchido via JavaScript -->
                                </tbody>
                            </table>
                        </div>

                        <div class="pagination">
                            <button id="prev-page-clientes" class="btn btn-outline btn-sm">
                                <i class="fas fa-chevron-left"></i> Anterior
                            </button>
                            <span id="page-info-clientes">Página 1 de 1</span>
                            <button id="next-page-clientes" class="btn btn-outline btn-sm">
                                Próxima <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                    </section>

                    <!-- Seção: Videochamadas -->
                    <section id="videochamadas-section" class="content-section">
                        <div class="section-header">
                            <h2>Videochamadas</h2>
                            <div class="section-actions">
                                <button id="add-videochamada" class="btn btn-primary">
                                    <i class="fas fa-plus"></i> Nova Videochamada
                                </button>
                            </div>
                        </div>

                        <div class="calendar-controls">
                            <button id="prev-month" class="btn btn-outline btn-sm">
                                <i class="fas fa-chevron-left"></i> Mês Anterior
                            </button>
                            <h3 id="current-month">Junho 2025</h3>
                            <button id="next-month" class="btn btn-outline btn-sm">
                                Próximo Mês <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>

                        <div class="calendar-container">
                            <div class="calendar-header">
                                <div>Dom</div>
                                <div>Seg</div>
                                <div>Ter</div>
                                <div>Qua</div>
                                <div>Qui</div>
                                <div>Sex</div>
                                <div>Sáb</div>
                            </div>
                            <div id="calendar-days" class="calendar-days">
                                <!-- Será preenchido via JavaScript -->
                            </div>
                        </div>

                        <div class="upcoming-calls">
                            <h3>Próximas Videochamadas</h3>
                            <div id="upcoming-calls-list" class="calls-list">
                                <!-- Será preenchido via JavaScript -->
                            </div>
                        </div>
                    </section>

                    <!-- Seção: Resumo Financeiro -->
                    <section id="financeiro-section" class="content-section">
                        <div class="section-header">
                            <h2>Resumo Financeiro</h2>
                            <div class="section-actions">
                                <div class="filter-group">
                                    <label>Período:</label>
                                    <select id="periodo-financeiro">
                                        <option value="mes">Este Mês</option>
                                        <option value="trimestre">Último Trimestre</option>
                                        <option value="ano">Este Ano</option>
                                        <option value="total">Total</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="dashboard">
                            <div class="dashboard-card">
                                <div class="card-title">Total de Vendas</div>
                                <div class="card-value" id="total-vendas">0</div>
                            </div>
                            <div class="dashboard-card">
                                <div class="card-title">Faturamento</div>
                                <div class="card-value" id="total-faturamento">R$ 0,00</div>
                            </div>
                            <div class="dashboard-card">
                                <div class="card-title">Ticket Médio</div>
                                <div class="card-value" id="ticket-medio">R$ 0,00</div>
                            </div>
                        </div>

                        <div class="charts-container">
                            <div class="chart-card">
                                <h3>Vendas por Tipo de Mapa</h3>
                                <canvas id="chart-vendas-tipo"></canvas>
                            </div>
                            <div class="chart-card">
                                <h3>Faturamento por Mês</h3>
                                <canvas id="chart-faturamento-mes"></canvas>
                            </div>
                            <div class="chart-card">
                                <h3>Vendas por Responsável</h3>
                                <canvas id="chart-vendas-responsavel"></canvas>
                            </div>
                        </div>
                    </section>

                    <!-- Seção: Configurações -->
                    <section id="configuracoes-section" class="content-section">
                        <div class="section-header">
                            <h2>Configurações</h2>
                        </div>

                        <div class="config-section">
                            <h3>Tipos de Mapa</h3>
                            <div class="table-container">
                                <table id="tipos-mapa-table" class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Nome</th>
                                            <th>Valor (R$)</th>
                                            <th>Ações</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!-- Será preenchido via JavaScript -->
                                    </tbody>
                                </table>
                            </div>
                            <div class="section-actions">
                                <button id="add-tipo-mapa" class="btn btn-primary">
                                    <i class="fas fa-plus"></i> Novo Tipo de Mapa
                                </button>
                            </div>
                        </div>
                    </section>
                </main>
            </div>
        </div>

        <!-- Modal para Edição de Pedido -->
        <div id="pedido-modal" class="modal">
            <div class="modal-overlay"></div>
            <div class="modal-container">
                <div class="modal-header">
                    <h3>Editar Pedido</h3>
                    <button class="close-modal"><i class="fas fa-times"></i></button>
                </div>
                <div class="modal-body">
                    <form id="edit-pedido-form" class="form">
                        <input type="hidden" id="pedido-id">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="edit-cliente-nome">Nome do Cliente</label>
                                <input type="text" id="edit-cliente-nome" required>
                            </div>
                            <div class="form-group">
                                <label for="edit-cliente-whatsapp">WhatsApp</label>
                                <input type="tel" id="edit-cliente-whatsapp" required>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="edit-data-nascimento">Data de Nascimento</label>
                                <input type="date" id="edit-data-nascimento" required>
                            </div>
                            <div class="form-group">
                                <label for="edit-hora-nascimento">Hora de Nascimento</label>
                                <input type="time" id="edit-hora-nascimento" required>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="edit-local-nascimento">Local de Nascimento</label>
                                <input type="text" id="edit-local-nascimento" required>
                            </div>
                            <div class="form-group">
                                <label for="edit-tipo-mapa">Tipo de Mapa</label>
                                <select id="edit-tipo-mapa" required>
                                    <!-- Será preenchido via JavaScript -->
                                </select>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="edit-responsavel">Responsável</label>
                                <select id="edit-responsavel" required>
                                    <option value="Conrado">Conrado</option>
                                    <option value="Kavi">Kavi</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="edit-status">Status</label>
                                <select id="edit-status" required>
                                    <option value="Em andamento">Em andamento</option>
                                    <option value="Concluído">Concluído</option>
                                    <option value="Aguardando">Aguardando</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group checkbox-group">
                                <input type="checkbox" id="edit-requer-videochamada">
                                <label for="edit-requer-videochamada">Requer Videochamada</label>
                            </div>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">Salvar</button>
                            <button type="button" class="btn btn-outline close-modal">Cancelar</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Modal para Edição de Cliente -->
        <div id="cliente-modal" class="modal">
            <div class="modal-overlay"></div>
            <div class="modal-container">
                <div class="modal-header">
                    <h3 id="cliente-modal-title">Novo Cliente</h3>
                    <button class="close-modal"><i class="fas fa-times"></i></button>
                </div>
                <div class="modal-body">
                    <form id="edit-cliente-form" class="form">
                        <input type="hidden" id="cliente-id">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="edit-nome">Nome</label>
                                <input type="text" id="edit-nome" required>
                            </div>
                            <div class="form-group">
                                <label for="edit-whatsapp">WhatsApp</label>
                                <input type="tel" id="edit-whatsapp" required>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="edit-email">E-mail</label>
                                <input type="email" id="edit-email">
                            </div>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">Salvar</button>
                            <button type="button" class="btn btn-outline close-modal">Cancelar</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Modal para Videochamada -->
        <div id="videochamada-modal" class="modal">
            <div class="modal-overlay"></div>
            <div class="modal-container">
                <div class="modal-header">
                    <h3 id="videochamada-modal-title">Nova Videochamada</h3>
                    <button class="close-modal"><i class="fas fa-times"></i></button>
                </div>
                <div class="modal-body">
                    <form id="edit-videochamada-form" class="form">
                        <input type="hidden" id="videochamada-id">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="videochamada-cliente">Cliente</label>
                                <select id="videochamada-cliente" required>
                                    <!-- Será preenchido via JavaScript -->
                                </select>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="videochamada-data">Data</label>
                                <input type="date" id="videochamada-data" required>
                            </div>
                            <div class="form-group">
                                <label for="videochamada-hora">Hora</label>
                                <input type="time" id="videochamada-hora" required>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="videochamada-link">Link da Reunião</label>
                                <input type="url" id="videochamada-link" placeholder="https://meet.google.com/...">
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="videochamada-notas">Notas</label>
                                <textarea id="videochamada-notas" rows="3"></textarea>
                            </div>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">Salvar</button>
                            <button type="button" class="btn btn-outline close-modal">Cancelar</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Modal para Tipo de Mapa -->
        <div id="tipo-mapa-modal" class="modal">
            <div class="modal-overlay"></div>
            <div class="modal-container">
                <div class="modal-header">
                    <h3 id="tipo-mapa-modal-title">Novo Tipo de Mapa</h3>
                    <button class="close-modal"><i class="fas fa-times"></i></button>
                </div>
                <div class="modal-body">
                    <form id="edit-tipo-mapa-form" class="form">
                        <input type="hidden" id="tipo-mapa-id">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="map-type-name">Nome</label>
                                <input type="text" id="map-type-name" required>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="map-type-value">Valor (R$)</label>
                                <input type="number" id="map-type-value" min="0" step="0.01" required>
                            </div>
                        </div>
                        
                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">Salvar</button>
                            <button type="button" class="btn btn-outline close-modal">Cancelar</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast de Notificações -->
    <div id="toast" class="toast">
        <div class="toast-content">
            <i id="toast-icon" class="fas"></i>
            <div class="toast-message" id="toast-message"></div>
        </div>
        <div class="toast-progress"></div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-auth-compat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/airtable@0.12.2/build/airtable.browser.js"></script>
    <script src="js/config.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/airtable.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/map-queue.js"></script>
    <script src="js/new-sale.js"></script>
    <script src="js/clients.js"></script>
    <script src="js/video-calls.js"></script>
    <script src="js/financial.js"></script>
    <script src="js/settings.js"></script>
    <script src="js/mock-data.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
